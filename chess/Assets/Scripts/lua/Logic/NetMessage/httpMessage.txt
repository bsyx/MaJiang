httpMessage = {}
local this = httpMessage;

--http登陆
function httpMessage.Login()
    local params = {deviceid = UnityEngine.SystemInfo.deviceUniqueIdentifier};
    HttpManager.Request("login",params,"正在登录",this.LoginFinishCallback,nil);
end

--http登陆成功
function httpMessage.LoginFinishCallback(data)
    log("登录成功");
    local obj = json.decode(data);
    Player:GetInstance().uid = obj["uid"];
    Player:GetInstance().name = obj["username"];
    NetworkManager = LuaHelper.AddNetManager();
    NetworkManager:OnInit();
end